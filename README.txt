Практическая работа №1
Создание простого веб-приложения на Django

Вариант: 2 - Пользователи и организации (Членство пользователей в организациях на должностях)

1. Описание предметной области:
В проекте реализована система управления связями между пользователями и организациями. Основные сущности:
— Организация (например, компания, вуз) — имеет название и описание.
— Должность (например, «Менеджер», «Директор») — просто название.
— Членство — связь между пользователем, организацией и должностью.
Особенности: один пользователь может состоять в нескольких организациях, но в одной организации — только на одной должности. Если должность удаляется, у пользователя автоматически устанавливается значение «Сотрудник».
2. Структура проекта
Проект состоит из:
— основного Django-проекта org_project (настройки, маршруты),
— приложения orgapp (модели, представления, маршруты),
— папки templates с базовыми шаблонами (base.html, index.html, about.html) и подпапкой orgapp для CRUD-шаблонов,
— виртуального окружения venv,
— базы данных db.sqlite3.
Все файлы расположены логично (вроде...)
3. Mодели данных
В файле models.py реализованы три модели:
— Organization: название (уникальное), описание.
— Position: название должности (уникальное).
— Membership: связывает User, Organization и Position. Используется unique_together=('user', 'organization') — чтобы один пользователь не мог быть в одной организации на двух должностях. При удалении должности (Position) поле position в Membership становится NULL, а в интерфейсе отображается как «Сотрудник».
4. Представления
Для всех трёх моделей реализован полный CRUD через стандартные классы Django:
— ListView — список объектов,
— DetailView — детальный просмотр,
— CreateView — создание,
— UpdateView — редактирование,
— DeleteView — удаление.
Для Membership используется кастомная форма с выпадающими списками, чтобы удобно выбирать пользователя, организацию и должность.
5. Маршруты
Основные маршруты (главная страница, about, админка) описаны в org_project/urls.py. Все CRUD-маршруты вынесены в orgapp/urls.py с префиксом app_name = 'orgapp', что позволяет использовать именованные URL в шаблонах (например, {% url 'orgapp:organization-list' %}).
6.Шаблоны
— base.html — базовый шаблон со стилями, шапкой, меню и футером.
— index.html — главная страница с описанием и ссылками на CRUD-разделы.
— about.html — статичная страница «О проекте» с информацией об авторе и целях.
— В папке templates/orgapp/ — шаблоны для каждой операции: список, детали, форма, подтверждение удаления.
— pagination.html — универсальный блок навигации по страницам (работает автоматически при paginate_by=10 в представлениях).
7. Административная панель
Все модели зарегистрированы в админке с удобными настройками отображения, поиска и фильтрации. Создан суперпользователь для доступа к /admin/.
8. Тестирование
Проверено:
— создание/редактирование/удаление организаций и должностей,
— назначение членств — система не позволяет дублировать запись «пользователь + организация»,
— при удалении должности в списке членств отображается «Сотрудник»,
— пагинация работает (по 10 записей на страницу - чисто по приколу, понятно, что и без нее все бы уместилось),
— ссылки в меню работают корректно
Данные сохраняются в файл db.sqlite3 и не теряются после перезапуска.